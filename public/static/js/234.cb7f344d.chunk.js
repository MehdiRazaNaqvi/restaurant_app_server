"use strict";(self.webpackChunkmooli_admin=self.webpackChunkmooli_admin||[]).push([[234],{6234:function(e,a,t){t.r(a);var i=t(1413),n=t(885),s=t(2791),c=t(6153),r=t(7988),l=t(2357),d=t(6187),m=t(8284),o=t(6919),u=t(1815),g=t(7705),h=t(5977),p=t.n(h),f=t(9875),j=t(6030),b=t(5956),x=t(2549),k=t(5702),Z=t(577),D=t(184);a.default=function(e){var a=(0,s.useState)(""),t=(0,n.Z)(a,2),h=t[0],v=t[1],y=(0,g.cI)(),N=y.register,C=y.handleSubmit,I=y.errors,E={name:"",packageTypeId:"",image:""},L=(0,s.useState)(E),S=(0,n.Z)(L,2),T=S[0],w=S[1],O=(0,j.v9)((function(e){return e.package.packageTypeList})),P=(0,s.useState)([]),q=(0,n.Z)(P,2),F=q[0],U=q[1],_=(0,j.I0)();(0,s.useEffect)((function(){v(""),O.length?O.length!==F.length&&U(O):_((0,x.lo)()),e.editData&&w(e.editData)}),[e.editData,O.length]);return(0,D.jsx)(c.Z,{children:(0,D.jsx)(r.Z,{sm:"12",children:(0,D.jsxs)(l.Z,{children:[(0,D.jsxs)(d.Z,{className:"p-3 border-bottom mb-0",children:[(0,D.jsx)("i",{className:"mdi mdi-alert-box mr-2"}),e.editData?e.editData.name+" | Edit Package":"Create Package"]}),(0,D.jsx)(m.Z,{children:(0,D.jsx)(p(),{onSubmit:C((function(a){if(e.editData)if(Object.keys(a.image).length){var t=new FormData;t.append("file",a.image[0]),_((0,b.$i)(t,(function(t){var i=Object.assign({},a);i.image=t,delete i.packageTypeId,_((0,x.jQ)(e.editData._id,i,(function(a){e.updateList(a),w(E),e.cancelEdit(),Z.Am.success("Package Updated"),v("")})))})))}else{var i=Object.assign({},a);delete i.image,delete i.packageTypeId,_((0,x.jQ)(e.editData._id,i,(function(a){e.updateList(a),w(E),e.cancelEdit(),Z.Am.success("Package Updated"),v("")})))}else{w(a);var n=new FormData;n.append("file",a.image[0]),_((0,b.$i)(n,(function(t){var i=Object.assign({},a);i.image=t,_((0,x.hV)(i,(function(a){e.updateList(a),Z.Am.success("Package Created"),v("")})))})))}})),children:(0,D.jsxs)(c.Z,{children:[(0,D.jsxs)(r.Z,{sm:T.image||""!=h?"6":"12",children:[(0,D.jsxs)(o.Z,{children:[(0,D.jsx)("label",{className:"control-label",htmlFor:"title",children:"Title *"}),(0,D.jsx)("div",{className:"mb-2",children:(0,D.jsx)("input",{value:T.name,type:"text",name:"name",onChange:function(e){return w((0,i.Z)((0,i.Z)({},T),{},{name:e.target.value}))},ref:N({required:!0}),className:"form-control"})}),(0,D.jsx)("span",{className:"text-danger",children:I.name&&"Title is required."})]}),(0,D.jsxs)(o.Z,{children:[(0,D.jsx)("label",{className:"control-label",htmlFor:"image",children:"Image Cover"}),(0,D.jsx)("div",{className:"mb-2",children:(0,D.jsx)("input",{type:"file",onChange:function(e){return function(e){var a=URL.createObjectURL(e.target.files[0]);v(a)}(e)},name:"image",ref:N({required:!e.editData}),className:"form-control",accept:"image/*"})}),(0,D.jsx)("span",{className:"text-danger",children:I.image&&"Image cover is required."})]}),(0,D.jsxs)(o.Z,{children:[(0,D.jsx)(u.Z,{className:"button btn-info",style:{backgroundColor:f.D.primary,border:0},onClick:function(){e.cancelEdit&&e.cancelEdit(),w(E)},type:"reset",children:"Reset"}),(0,D.jsx)(u.Z,{className:"button btn-info ml-3",style:{backgroundColor:f.D.black,border:0},type:"submit",children:"Submit"})]})]}),(!!e.editData&&!!e.editData.image||""!=h)&&(0,D.jsx)(r.Z,{sm:"6",children:(0,D.jsx)("img",{src:""!=h?h:k.dB+e.editData.image,style:{width:"80%",resizeMode:"contain",height:"60%"}})})]})})})]})})})}}}]);
//# sourceMappingURL=234.cb7f344d.chunk.js.map