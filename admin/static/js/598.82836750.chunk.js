"use strict";(self.webpackChunkmooli_admin=self.webpackChunkmooli_admin||[]).push([[598],{7439:function(e,t,n){var i=n(2982),r=(n(2791),n(184));t.Z=function(e){var t=e.nPages,n=e.currentPage,a=e.setCurrentPage,s=(0,i.Z)(Array(t+1).keys()).slice(1);return(0,r.jsx)("nav",{children:(0,r.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",onClick:function(){1!==n&&a(n-1)},href:"#!",children:"Previous"})}),s.map((function(e){return(0,r.jsx)("li",{className:"page-item ".concat(n==e?"active":""," "),children:(0,r.jsx)("a",{onClick:function(){return a(e)},className:"page-link",href:"#!",children:e})},e)})),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",onClick:function(){n!==t&&a(n+1)},href:"#!",children:"Next"})})]})})}},2966:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var i=n(1413),r=n(4165),a=n(5861),s=n(885),l=n(2791),c=n(2357),o=n(6187),d=n(1815),u=n(8284),h=n(6153),f=n(7988),m=n(3002),p=n(6919),x=n(4555),j=n(4668),g=n(2560),Z=n(4768),v=n(9875),b=n(2982),y=(n(7762),n(1438)),C=n(4292),D=n(5234),N=(n(763),n(5977)),S=n.n(N),_=n(5702),k=n(5956),w=n(6030),E=n(9902),T=n(577),A=(n(5462),n(3037),n(8688),n(5717)),F=(n(3839),n(5646),n(199),n(7551)),P=n(2443),B=n.n(P),V=n(3540),z=n(1830),q=n.n(z),O=n(184),L=function(e){var t,n,j,g,N={city:[],title:"",description:"",category:[],subCategory:[],image:[],video:[],start_date:"",end_date:"",offer:[],merchant_businessName:"",merchantId:""},P=(0,l.useState)(N),z=(0,s.Z)(P,2),L=z[0],U=z[1],I=(0,l.useState)({}),M=(0,s.Z)(I,2),R=M[0],W=M[1],Y=(0,l.useState)({}),K=(0,s.Z)(Y,2),X=K[0],$=K[1],H=(0,l.useState)({}),J=(0,s.Z)(H,2),G=(J[0],J[1],(0,l.useState)(!1)),Q=(0,s.Z)(G,2),ee=Q[0],te=Q[1],ne=(0,l.useState)(!1),ie=(0,s.Z)(ne,2),re=ie[0],ae=ie[1],se=(0,l.useState)(null),le=(0,s.Z)(se,2),ce=le[0],oe=le[1],de=(0,l.useState)({}),ue=(0,s.Z)(de,2),he=(ue[0],ue[1]),fe=(0,l.useState)(""),me=(0,s.Z)(fe,2),pe=(me[0],me[1],(0,l.useState)([])),xe=(0,s.Z)(pe,2),je=(xe[0],xe[1]),ge=(0,l.useState)(null),Ze=(0,s.Z)(ge,2),ve=Ze[0],be=Ze[1],ye=(0,l.useState)([]),Ce=(0,s.Z)(ye,2),De=(Ce[0],Ce[1],(0,l.useState)([])),Ne=(0,s.Z)(De,2),Se=(Ne[0],Ne[1],(0,l.useState)([])),_e=(0,s.Z)(Se,2),ke=(_e[0],_e[1],(0,l.useState)("")),we=(0,s.Z)(ke,2),Ee=we[0],Te=we[1],Ae=(0,l.useState)(!1),Fe=(0,s.Z)(Ae,2),Pe=Fe[0],Be=Fe[1],Ve=(0,w.I0)(),ze=(0,w.v9)((function(e){return e.allCampaigns.data.data})),qe=(0,w.v9)((function(e){return e.package.packageTypeList})),Oe=(0,w.v9)((function(e){return e.package.packageList}));(0,l.useEffect)((function(){Ve((0,k.lo)()),Ve((0,k.xp)())}),[Ve]);var Le=(0,w.v9)((function(e){return e.allMerchants.data.data})),Ue=new Audio(e.editData&&_.dB+e.editData.video);Ue.onloadedmetadata=function(){console.log("sada",100*Math.floor(Ue.duration)),Te(100*Math.floor(Ue.duration))};var Ie={dots:!1,autoplay:!0,speed:{videoDuration:Ee},slidesToShow:1};function Me(e){return Re.apply(this,arguments)}function Re(){return(Re=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),(n=new FormData).append("file",t),i="",e.next=6,Ve((0,k.$i)(n,(function(e){i=e,console.log("methos file--------------",i)})));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){e.editData&&U(e.editData)}),[e.editData]),(0,l.useEffect)((function(){var t;e.editData&&Ge(null===(t=e.editData)||void 0===t?void 0:t.merchant_businessName);ze.length||(Ve((0,k.E6)()),Ve((0,k.jP)((function(){})))),null!==e&&void 0!==e&&e.editData&&(U(e.editData),console.log("editttttttt",L))}),[e.editData]),(0,l.useEffect)((function(){Le.length||Ve((0,k.jP)((function(){})))}),[Ve,Le.length]);var We=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(U((0,i.Z)((0,i.Z)({},L),{},{category:t})),delete(a=R).category,W(a),[],s=0;s<t.length;s++)t[s];case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U((0,i.Z)((0,i.Z)({},L),{},{subCategory:t})),delete(a=R).subCategory,W(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=[];L.city.map((function(e){return Ke.push(e.location_city)}));var Xe=(0,l.useState)([]),$e=(0,s.Z)(Xe,2),He=$e[0],Je=$e[1],Ge=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le.map((function(e){return e.businessName==t?Je(e.location):console.log()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e){var t=e.map((function(e){return e.location_city}));U((0,i.Z)((0,i.Z)({},L),{},{city:t}))},et=function(e,t){var n=L.offer.slice(0);n.splice(t,1),U((0,i.Z)((0,i.Z)({},L),{},{offer:n}))},tt=new Date,nt=String(tt.getDate()).padStart(2,"0"),it=String(tt.getMonth()+1).padStart(2,"0"),rt=tt.getFullYear();tt=it+"/"+nt+"/"+rt;function Me(e,t){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("file",t),a="",e.next=5,Ve((0,k.$i)(i,(function(e){a=e,n(e)})));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(){ae(!re)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(y.Z,{isOpen:ee,children:[(0,O.jsx)(C.Z,{children:"Add New Offer"}),(0,O.jsx)(D.Z,{children:(0,O.jsxs)(S(),{children:[(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{children:"Title"}),(0,O.jsx)(x.Z,{required:!0,type:"text",onChange:function(e){$((0,i.Z)((0,i.Z)({},X),{},{offer_title:e.target.value}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{children:"Description"}),(0,O.jsx)(F.CKEditor,{required:!0,name:"description",editor:B(),data:e.editData?e.editData.offer.offer_description:L.offer.offer_description,onChange:function(e,t){var n=t.getData();$((0,i.Z)((0,i.Z)({},X),{},{offer_description:n}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{children:"Price"}),(0,O.jsx)(x.Z,{type:"number",min:"0",oninput:"validity.valid||(value='');",required:!0,onChange:function(e){return $((0,i.Z)((0,i.Z)({},X),{},{offer_price:parseFloat(e.target.value)}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{children:"Discount %"}),(0,O.jsx)(x.Z,{type:"flaot",required:!0,onChange:function(e){return $((0,i.Z)((0,i.Z)({},X),{},{offer_discount:e.target.value}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(d.Z,{className:"ml-1",onClick:function(e){U((0,i.Z)((0,i.Z)({},L),{},{offer:[].concat((0,b.Z)(L.offer),[X])})),te(!1)},color:"primary",children:"Save"}),(0,O.jsx)(d.Z,{color:"secondary",className:"ml-1",onClick:function(){return te(!1)},children:"Cancel"})]})]})})]}),function(e){return(0,O.jsxs)(y.Z,{isOpen:re,toggle:function(){return st},children:[(0,O.jsx)(C.Z,{toggle:function(){return st},children:"Edit Offer"}),(0,O.jsx)(D.Z,{children:(0,O.jsxs)(S(),{onSubmit:function(e){!function(e){e.preventDefault();var t=L.offer.slice(0);t[ce]=X,U((0,i.Z)((0,i.Z)({},L),{},{offer:t})),ae(!1)}(e,L.offer)},children:[(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"title",children:"Title"}),(0,O.jsx)(x.Z,{type:"text",name:"title",id:"title",defaultValue:e&&e.offer_title,onChange:function(e){return $((0,i.Z)((0,i.Z)({},X),{},{offer_title:e.target.value}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"description",children:"Description"}),(0,O.jsx)(F.CKEditor,{name:"description",id:"description",editor:B(),data:null===e||void 0===e?void 0:e.offer_description,onChange:function(e,t){var n=t.getData();$((0,i.Z)((0,i.Z)({},X),{},{offer_description:n}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"price",children:"Price"}),(0,O.jsx)(x.Z,{type:"float",name:"price",id:"price",defaultValue:e&&e.offer_price,defaultChecked:X.offer_price,onChange:function(e){return $((0,i.Z)((0,i.Z)({},X),{},{offer_price:parseFloat(e.target.value)}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"discount",children:"Discount %"}),(0,O.jsx)(x.Z,{type:"float",name:"discount",id:"discount",defaultValue:e&&e.offer_discount,onChange:function(e){return $((0,i.Z)((0,i.Z)({},X),{},{offer_discount:e.target.value}))}})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(d.Z,{style:{backgroundColor:v.D.black},type:"submit",children:"Update"}),(0,O.jsx)(d.Z,{color:"secondary",className:"ml-1",onClick:function(){return st()},children:"Cancel"})]})]})})]})}(ve),(0,O.jsx)(h.Z,{children:(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(c.Z,{children:[(0,O.jsxs)(o.Z,{className:"card-title-custom p-3 border-bottom mb-0",children:[(0,O.jsx)("i",{className:"mdi mdi-alert-box mr-2"}),e.editData?e.editData.title.charAt(0).toUpperCase()+e.editData.title.slice(1)+" |  Edit Campaign":"Add Campaign"]}),(0,O.jsx)(u.Z,{children:(0,O.jsxs)(S(),{onSubmit:function(t){t.preventDefault(),function(){var t,n,i,r,a,s,l,c;(null===(t=L.category)||void 0===t?void 0:t.length)<1||(null===(n=L.subCategory)||void 0===n?void 0:n.length)<1||(null===(i=L.offer)||void 0===i?void 0:i.length)<1||""==L.description||L.image.length<1||L.city.length<1?(null===(r=L.category)||void 0===r?void 0:r.length)<1?T.Am.error("Select atleast one Category"):(null===(a=L.subCategory)||void 0===a?void 0:a.length)<1?T.Am.error("Select atleast one Sub Category"):(null===(s=L.offer)||void 0===s?void 0:s.length)<1?T.Am.error("Create atleast one Offer"):""==L.description?T.Am.error("Please Enter Description"):(null===(l=L.image)||void 0===l?void 0:l.length)<1?T.Am.error("Select atleast one image"):(null===(c=L.city)||void 0===c?void 0:c.length)<1&&T.Am.error("Select atleast one City"):e.editData?Ve((0,k.hm)(L,e.editData._id,(function(){return T.Am.success("Campaign Updated")}))):Ve((0,k.JT)(L,(function(){})))}()},children:[(0,O.jsx)("h5",{children:"Campaign Details"}),(0,O.jsxs)("div",{children:[(0,O.jsxs)(h.Z,{children:[e.editData&&(0,O.jsx)(f.Z,{md:6,children:(0,O.jsx)("div",{style:{marginTop:"180px",marginLeft:"30px",marginBottom:"20px"},children:(0,O.jsxs)(A.Z,(0,i.Z)((0,i.Z)({},{dots:!1,autoplay:!0,infinite:!0,speed:300,slidesToShow:1}),{},{children:[e.editData.video.length>0&&""!==e.editData.video[0]?!Pe&&(0,O.jsx)(A.Z,(0,i.Z)((0,i.Z)({},Ie),{},{children:(0,O.jsx)("video",{muted:!0,autoPlay:!0,style:{width:"130%",height:225,marginLeft:"-120px"},onPlay:function(){return Be(!1)},onPause:function(){return Be(!0)},children:(0,O.jsx)("source",{src:_.dB+e.editData.video,type:"video/mp4"})})})):"",0==e.editData.video.length?!Pe&&e.editData.image.map((function(t,n){return(0,O.jsxs)("div",{children:[(0,O.jsx)("img",{alt:"name",src:_.dB+t,style:{width:400,height:300}}),(0,O.jsx)("div",{style:{position:"absolute",top:"0px"},children:(0,O.jsx)(d.Z,{onClick:function(){var n=e.editData.image.indexOf(t);n>-1&&(e.editData.image.splice(n,1),je(e.editData.image.filter((function(e,t){return t!==e}))))},children:"X"})})]},n)})):e.editData.image.map((function(t,n){return(0,O.jsxs)("div",{children:[(0,O.jsx)("img",{alt:"name",src:_.dB+t,style:{width:400,height:300}}),(0,O.jsx)("div",{style:{position:"absolute",top:"0px"},children:(0,O.jsx)(d.Z,{onClick:function(){var n=e.editData.image.indexOf(t);n>-1&&(e.editData.image.splice(n,1),je(e.editData.image.filter((function(e,t){return t!==e}))))},children:"X"})})]},n)}))]}))})}),(0,O.jsxs)(f.Z,{md:e.editData?6:12,className:"mt-4",children:[(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"image",children:"Title *"}),(0,O.jsx)("div",{className:"mb-2",children:(0,O.jsx)("input",{required:!0,type:"text",name:"title",defaultValue:L.title,onChange:function(e){return U((0,i.Z)((0,i.Z)({},L),{},{title:e.target.value}))},className:"form-control"})})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"packageType",children:"Category *"}),(0,O.jsx)(E.default,{required:!0,options:Oe,selectedValues:L.category||[],onSelect:We,onRemove:function(e){return U((0,i.Z)((0,i.Z)({},L),{},{category:e}))},displayValue:"name"})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(m.Z,{for:"packageType",children:"Sub Category *"}),(0,O.jsx)(E.default,{options:qe,selectedValues:L.subCategory||[],onSelect:Ye,onRemove:function(e){return U((0,i.Z)((0,i.Z)({},L),{},{subCategory:e}))},displayValue:"name"})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"image",children:"Upload Image"}),(0,O.jsxs)("div",{className:"mb-2",children:[(0,O.jsx)("input",{multiple:!0,type:"file",name:"image",accept:"image/*",className:"form-control",defaultValue:L.image,onChange:function(e){return Me(e.target.files[0],(function(e){return U((0,i.Z)((0,i.Z)({},L),{},{image:[].concat((0,b.Z)(L.image),[e])}))}))}}),(null===L||void 0===L?void 0:L.image.length)>0&&(null===L||void 0===L||null===(t=L.image)||void 0===t?void 0:t.map((function(e){return(0,O.jsx)("img",{alt:"preview",style:{width:"22px",height:"22px",padding:"0 1px"},src:_.dB+e})})))]})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"video",children:"Upload Video"}),(0,O.jsxs)("div",{className:"mb-2",children:[(0,O.jsx)("input",{type:"file",name:"video",accept:"video/*",className:"form-control",defaultValue:L.video,onChange:function(e){Me(e.target.files[0],(function(e){U((0,i.Z)((0,i.Z)({},L),{},{video:[].concat((0,b.Z)(L.video),[e])}))}))}}),(null===L||void 0===L?void 0:L.video.length)>0&&(null===L||void 0===L||null===(n=L.video)||void 0===n?void 0:n.map((function(e){return(0,O.jsx)("img",{alt:"preview",style:{width:"22px",height:"22px",padding:"0 1px"},src:_.dB+e})})))]})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"start_date",children:"Start Date *"}),(0,O.jsx)("div",{className:"mb-2",children:(0,O.jsx)("input",{required:!0,min:null===(j=new Date)||void 0===j||null===(g=j.toISOString())||void 0===g?void 0:g.split("T")[0],type:"date",name:"start_date",defaultValue:L.start_date,onChange:function(e){return U((0,i.Z)((0,i.Z)({},L),{},{start_date:e.target.value}))},className:"form-control"})})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"end_date",children:"End Date *"}),(0,O.jsx)("div",{className:"mb-2",children:(0,O.jsx)("input",{required:!0,disabled:""==L.start_date,min:L.start_date,type:"date",name:"end_date",onChange:function(e){return U((0,i.Z)((0,i.Z)({},L),{},{end_date:e.target.value}))},defaultValue:L.end_date,className:"form-control"})})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"end_date",children:"Select Merchant *"}),(0,O.jsx)("div",{className:"mb-2",children:e.editData?(0,O.jsx)("input",{value:L.merchant_businessName,type:"text",disabled:!0,name:"select_merchant",className:"form-control"}):(0,O.jsxs)("select",{required:!0,name:"select_merchant",onChange:function(e){var t;Je([]),U((0,i.Z)((0,i.Z)({},L),{},{merchant_businessName:e.target.value,merchantId:null===Le||void 0===Le||null===(t=Le.find((function(t){return t.businessName==e.target.value})))||void 0===t?void 0:t._id})),Ge(e.target.value)},value:L.merchant_businessName,defaultValue:L.merchant_businessName,className:"form-control",children:[(0,O.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Select"}),Le&&Le.map((function(e,t){return(0,O.jsx)("option",{children:e.profile&&e.profile.businessName},t)}))]})})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"end_date",children:"Select City *"}),(0,O.jsx)("div",{className:"mb-2",children:(0,O.jsx)(E.default,{options:He,selectedValues:He.filter((function(t){var n;return t.location_city==(null===e||void 0===e||null===(n=e.editData)||void 0===n?void 0:n.city.map((function(e){return e})))})),onSelect:function(e){Qe(e)},onRemove:function(e){Qe(e)},displayValue:"location_city"})})]})}),(0,O.jsx)(f.Z,{sm:12,children:(0,O.jsxs)(p.Z,{children:[(0,O.jsx)("label",{className:"control-label",htmlFor:"firstname",children:"Description *"}),(0,O.jsx)("div",{className:"mb-2",children:(0,O.jsx)(F.CKEditor,{required:!0,name:"description",id:"description",editor:B(),data:e.editData?e.editData.description:L.description,onChange:function(e,t){var n=t.getData();U((0,i.Z)((0,i.Z)({},L),{},{description:n}))}})})]})})]})]}),(0,O.jsx)(h.Z,{children:(0,O.jsxs)(f.Z,{sm:12,children:[(0,O.jsx)(d.Z,{color:"skyblue",className:"mb-2",type:"button",onClick:function(){return te(!0)},children:"Add New Offer"}),(0,O.jsx)(h.Z,{children:L.offer?L.offer.map((function(e,t){return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(f.Z,{sm:3,className:"card p-2 mt-3 ml-3",children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:v.D.primary},children:e.offer_title})," "]}),(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{children:e.offer_description&&(0,V.ZP)(e.offer_description)})," "]}),(0,O.jsxs)("p",{children:["Price: ",(0,O.jsx)("span",{children:e.offer_price})," "]}),e.offer_discount>0&&(0,O.jsxs)("p",{children:["Discount:"," ",(0,O.jsxs)("span",{className:"discount-badge",children:[e.offer_discount," %"]})," "]}),(0,O.jsxs)("p",{children:["Discounted Price:"," ",(0,O.jsxs)("span",{children:[e.offer_price-e.offer_price*(e.offer_discount/100)," "]})," "]}),(0,O.jsxs)("div",{className:"d-flex",children:[(0,O.jsxs)(d.Z,{className:"btn btn-icon btn-light text-danger w-50 mr-2",onClick:function(){return console.log("fire"),void q().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&et()}))},children:["Remove",(0,O.jsx)(Z.qip,{size:18,color:v.D.danger})]}),(0,O.jsxs)(d.Z,{className:"btn btn-icon btn-light text-danger w-50",onClick:function(){!function(e,t){console.log("item",e),oe(t),he(e),ae(!0),be(e),console.log("55",ve)}(e,t)},children:["Edit",(0,O.jsx)(Z.qip,{size:18,color:v.D.primary})]})]})]})})})):"Loading..."})]})})]}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(d.Z,{className:"button btn-info",style:{backgroundColor:v.D.primary,width:120,border:0},onClick:function(){e.cancelEdit&&e.cancelEdit(),U(N)},type:"reset",children:"Reset"}),(0,O.jsx)(d.Z,{className:"button btn-info ml-4",style:{backgroundColor:v.D.black,width:120,border:0},type:"submit",children:e.editData?"Update":"Submit"})]}),(0,O.jsx)(f.Z,{sm:6})]})})]})})})]})},U=n(7439),I=function(){var e=(0,w.I0)(),t=(0,l.useState)(null),n=(0,s.Z)(t,2),b=n[0],y=n[1],C=(0,l.useState)([]),D=(0,s.Z)(C,2),N=(D[0],D[1]),S=(0,l.useState)(null),E=(0,s.Z)(S,2),T=E[0],F=E[1],P=(0,l.useState)([]),B=(0,s.Z)(P,2),V=B[0],z=B[1],q=(0,l.useState)(""),I=(0,s.Z)(q,2),M=I[0],R=I[1],W=(0,l.useState)(1),Y=(0,s.Z)(W,2),K=Y[0],X=Y[1],$=(0,l.useState)(15),H=(0,s.Z)($,1)[0],J=(0,w.v9)((function(e){return e.allCampaigns.data.data})),G=function(e){R(e.target.value),Q()},Q=function(){var e=J.filter((function(e){return e.merchant_businessName.toLowerCase().includes(M)}));z(e)},ee=K*H,te=ee-H,ne=V.slice(te,ee),ie=M?Math.ceil(V.length/H):Math.ceil(J.length/H),re=J.slice(te,ee);(0,l.useEffect)((0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((0,k.E6)());case 1:case"end":return t.stop()}}),t)}))),[]);var ae=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,i){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==window.confirm("Are You Sure?")){t.next=7;break}return(a=n.currentTarget).innerText="Deleting...",t.next=6,e((0,k.bO)(i));case 6:a.closest("tr").remove();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),se=function(t){var n={campaignStatus:"active"===t.campaignStatus?"inactive":"active"};e((0,k.hm)(n,t._id,(function(e){return N(e)})))};return b?function(){var e=b;return console.log("uy",b),console.log("new",b.image),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(c.Z,{children:[(0,O.jsxs)(o.Z,{className:"border-bottom p-3 mb-0",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("i",{className:"mdi mdi-border-none mr-2",children:" "}),e.title.charAt(0).toUpperCase()+e.title.slice(1)," | Campaign Details"]}),(0,O.jsx)("div",{children:(0,O.jsxs)(d.Z,{className:"btn btn-primary",style:{backgroundColor:v.D.black,borderColor:v.D.black,borderRadius:4,alignItems:"center",height:"fit-content"},onClick:function(){return y(null)},children:[(0,O.jsx)("i",{className:"fa fa-arrow-left mr-2",children:" "}),"Back"]})})]}),(0,O.jsx)(u.Z,{children:e.description}),(0,O.jsx)("div",{children:(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(f.Z,{md:6,children:(0,O.jsx)("div",{style:{marginTop:"20px",marginLeft:"30px",marginBottom:"20px"},children:(0,O.jsx)(A.Z,(0,i.Z)((0,i.Z)({},{dots:!1,autoplay:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:e.image.map((function(e,t){return(0,O.jsxs)("div",{children:[console.log("sdad",e),(0,O.jsx)("img",{alt:"name",src:e,style:{width:500,height:280}})]},t)}))}))})}),(0,O.jsxs)(f.Z,{md:6,className:"mt-4",children:[(0,O.jsx)(m.Z,{style:{marginTop:"30px"},children:e.campaignStatus}),(0,O.jsx)("br",{}),(0,O.jsx)(m.Z,{style:{fontWeight:"bold"},children:e.title.charAt(0).toUpperCase()+e.title.slice(1)}),(0,O.jsx)("br",{}),(0,O.jsxs)(m.Z,{children:[e.end_date," "]}),(0,O.jsx)("br",{}),(0,O.jsx)(m.Z,{children:e.end_date}),(0,O.jsx)("br",{}),(0,O.jsx)(m.Z,{style:{fontWeight:"bold"},children:e.merchant_businessName.charAt(0).toUpperCase()+e.merchant_businessName.slice(1)}),(0,O.jsx)("br",{})]})]})}),(0,O.jsx)(o.Z,{className:"border-bottom p-2 mb-0",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:"Offers"}),(0,O.jsxs)(h.Z,{children:[" ",e.offer?e.offer.map((function(e,t){return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(f.Z,{sm:3,className:"card p-2 mt-3 ml-3",children:[(0,O.jsxs)("p",{style:{fontWeight:"bold",color:v.D.primary},children:[(0,O.jsx)("span",{children:e.offer_title})," "]}),(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{children:e.offer_description})," "]}),(0,O.jsxs)("p",{children:["Price: ",(0,O.jsx)("span",{children:e.offer_price})," "]}),(0,O.jsxs)("p",{children:["Discount: ",(0,O.jsx)("span",{children:e.offer_discount})," "]})]})})})):"Loading..."]})]})})}():(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(L,{editData:T,cancelEdit:function(){return F(null)}}),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(c.Z,{children:[(0,O.jsx)("div",{}),(0,O.jsxs)(o.Z,{className:"bg-light border-bottom p-3 mb-0",style:{display:"flex"},children:[(0,O.jsx)("i",{className:"mdi mdi-border-none mr-2",children:" "}),(0,O.jsx)("div",{style:{width:"160px"},children:"Campaigns List"}),(0,O.jsxs)(p.Z,{className:"mb-3",style:{width:"40%",display:"flex",justifyContent:"space-between",marginLeft:"420px"},children:[(0,O.jsx)(x.Z,{type:"text",id:"search",placeholder:"Search Merchants..",onChange:G}),(0,O.jsx)(Z.xue,{style:{position:"absolute",left:"92%",marginTop:"6px"},size:22,color:v.D.primary})]})]}),(0,O.jsx)(u.Z,{className:"",style:{fontSize:12},children:(0,O.jsxs)(j.Z,{striped:!0,hover:!0,responsive:!0,condensed:!0,search:!0,deleteRow:!0,pagination:!0,tableHeaderClass:"mb-0",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{className:"text-center",children:[(0,O.jsx)("th",{children:"#"}),(0,O.jsx)("th",{children:"Status"}),(0,O.jsx)("th",{children:"Image"}),(0,O.jsx)("th",{children:"Campaign Title"}),(0,O.jsx)("th",{children:"End Date"}),(0,O.jsx)("th",{colSpan:2,children:"Actions"})]})}),(0,O.jsxs)("tbody",{className:"responsive",children:[console.log("currrr",re),M?ne.map((function(e,t){return(0,O.jsxs)("tr",{className:"text-center",style:{height:60},children:[(0,O.jsx)("th",{scope:"row",children:t+1}),(0,O.jsx)("td",{children:e.campaignStatus}),(0,O.jsxs)("td",{children:[console.log("null",_.dB+e.image[0]),console.log("uri",e.image[0]),(0,O.jsx)("img",{src:e.image?_.dB+e.image[0]:g,style:{width:40,height:40,marginTop:-5,resize:"contain"},alt:e.title})]}),(0,O.jsx)("td",{children:e.title}),(0,O.jsx)("td",{children:e.end_date}),(0,O.jsxs)("td",{children:[(0,O.jsx)(d.Z,{className:"btn btn-info",style:{fontSize:12,backgroundColor:"active"===e.campaignStatus?v.D.primary:v.D.black,borderColor:"active"===e.campaignStatus?v.D.primary:v.D.black,width:"80px"},onClick:function(){return se(e)},children:"active"===e.campaignStatus?"Disable":"Active"}),(0,O.jsx)(d.Z,{className:"btn btn-primary ml-3",onClick:function(){return F(e)},style:{fontSize:12,width:"80px"},children:"Edit"}),(0,O.jsx)(d.Z,{style:{width:"70px",fontSize:12,backgroundColor:v.D.black06,borderColor:v.D.black06},className:"btn btn-info ml-3",onClick:function(t){return ae(t,e._id)},children:"Delete"})]})]},t)})):J&&re.map((function(e,t){return(0,O.jsxs)("tr",{className:"text-center",style:{height:60},children:[(0,O.jsx)("th",{scope:"row",children:t+1}),(0,O.jsx)("td",{children:e.campaignStatus}),(0,O.jsx)("td",{children:(0,O.jsx)("img",{src:e.image?_.dB+e.image[0]:g,style:{width:40,height:40,marginTop:-5,resize:"contain"},alt:e.title})}),(0,O.jsx)("td",{children:e.title.substring(0,24).trimEnd()+"..."}),(0,O.jsx)("td",{children:e.end_date}),(0,O.jsxs)("td",{children:[(0,O.jsx)(d.Z,{className:"btn btn-info",style:{fontSize:12,backgroundColor:"active"===e.campaignStatus?v.D.primary:v.D.black,borderColor:"active"===e.campaignStatus?v.D.primary:v.D.black,width:"80px"},onClick:function(){return se(e)},children:"active"===e.campaignStatus?"Disable":"Active"}),(0,O.jsx)(d.Z,{className:"btn btn-primary ml-3",onClick:function(){return F(e)},style:{fontSize:12,width:"80px"},children:"Edit"}),(0,O.jsx)(d.Z,{style:{width:"70px",fontSize:12,backgroundColor:v.D.black06,borderColor:v.D.black06},className:"btn btn-info ml-3",onClick:function(t){return ae(t,e._id)},children:"Delete"})]})]},t)}))]})]})})]}),(0,O.jsx)(U.Z,{nPages:ie,currentPage:K,setCurrentPage:X})]})]})}},3839:function(){},2560:function(e,t,n){e.exports=n.p+"static/media/avatar.e8903a4cd8abf6b5aec3.png"}}]);
//# sourceMappingURL=598.82836750.chunk.js.map