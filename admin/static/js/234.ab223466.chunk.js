"use strict";(self.webpackChunkmooli_admin=self.webpackChunkmooli_admin||[]).push([[234],{6234:function(e,a,t){t.r(a);var i=t(1413),n=t(885),s=t(2791),c=t(6153),r=t(7988),l=t(2357),d=t(6187),m=t(8284),o=t(6919),u=t(1815),g=t(7705),h=t(5977),p=t.n(h),f=t(9875),j=t(6030),b=t(5956),x=t(2549),k=t(5702),Z=t(577),v=t(184);a.default=function(e){var a,t=(0,s.useState)(""),h=(0,n.Z)(t,2),D=h[0],y=h[1],N=(0,g.cI)(),C=N.register,I=N.handleSubmit,E=N.errors,L={name:"",packageTypeId:"",image:""},S=(0,s.useState)(L),T=(0,n.Z)(S,2),w=T[0],O=T[1],P=(0,j.v9)((function(e){return e.package.packageTypeList})),q=(0,s.useState)([]),F=(0,n.Z)(q,2),U=F[0],_=F[1],A=(0,j.I0)();(0,s.useEffect)((function(){y(""),P.length?P.length!==U.length&&_(P):A((0,x.lo)()),e.editData&&O(e.editData)}),[e.editData,P.length]);return(0,v.jsx)(c.Z,{children:(0,v.jsx)(r.Z,{sm:"12",children:(0,v.jsxs)(l.Z,{children:[(0,v.jsxs)(d.Z,{className:"p-3 border-bottom mb-0",children:[(0,v.jsx)("i",{className:"mdi mdi-alert-box mr-2"}),e.editData?e.editData.name+" | Edit Package":"Create Package"]}),(0,v.jsx)(m.Z,{children:(0,v.jsx)(p(),{onSubmit:I((function(a){if(e.editData)if(Object.keys(a.image).length){var t=new FormData;t.append("file",a.image[0]),A((0,b.$i)(t,(function(t){var i=Object.assign({},a);i.image=t,delete i.packageTypeId,A((0,x.jQ)(e.editData._id,i,(function(a){e.updateList(a),O(L),e.cancelEdit(),Z.Am.success("Package Updated"),y("")})))})))}else{var i=Object.assign({},a);delete i.image,delete i.packageTypeId,A((0,x.jQ)(e.editData._id,i,(function(a){e.updateList(a),O(L),e.cancelEdit(),Z.Am.success("Package Updated"),y("")})))}else{O(a);var n=new FormData;n.append("file",a.image[0]),A((0,b.$i)(n,(function(t){var i=Object.assign({},a);i.image=t,A((0,x.hV)(i,(function(a){e.updateList(a),Z.Am.success("Package Created"),y("")})))})))}})),children:(0,v.jsxs)(c.Z,{children:[(0,v.jsxs)(r.Z,{sm:w.image||""!=D?"6":"12",children:[(0,v.jsxs)(o.Z,{children:[(0,v.jsx)("label",{className:"control-label",htmlFor:"title",children:"Title *"}),(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsx)("input",{value:w.name,type:"text",name:"name",onChange:function(e){return O((0,i.Z)((0,i.Z)({},w),{},{name:e.target.value}))},ref:C({required:!0}),className:"form-control"})}),(0,v.jsx)("span",{className:"text-danger",children:E.name&&"Title is required."})]}),(0,v.jsxs)(o.Z,{children:[(0,v.jsx)("label",{className:"control-label",htmlFor:"image",children:"Image Cover"}),(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsx)("input",{type:"file",onChange:function(e){return function(e){var a=URL.createObjectURL(e.target.files[0]);y(a)}(e)},name:"image",ref:C({required:!e.editData}),className:"form-control",accept:"image/*"})}),(0,v.jsx)("span",{className:"text-danger",children:E.image&&"Image cover is required."})]}),(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(u.Z,{className:"button btn-info",style:{backgroundColor:f.D.primary,border:0},onClick:function(){e.cancelEdit&&e.cancelEdit(),O(L)},type:"reset",children:"Reset"}),(0,v.jsx)(u.Z,{className:"button btn-info ml-3",style:{backgroundColor:f.D.black,border:0},type:"submit",children:"Submit"})]})]}),(!!e.editData&&!(null===(a=e.editData)||void 0===a||!a.image)||""!=D)&&(0,v.jsx)(r.Z,{sm:"6",children:(0,v.jsx)("img",{src:""!=D?D:k.dB+e.editData.image,style:{width:"80%",resizeMode:"contain",height:"60%"}})})]})})})]})})})}}}]);
//# sourceMappingURL=234.ab223466.chunk.js.map